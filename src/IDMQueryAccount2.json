{
  "service-identifier": "EnhancedIDMAccountCollector",
  "version": "4.2.1",
  "collectorType": "ACCOUNT",
  "class": "com.pointbluetech.ida.collector.idm.entitlement.IDMEntitlementCollectionService",
  "allow-connection-test": true,
  "service-parms": [
    {
      "data_source_connection_parm": false,
      "name": "use_bridge_connector",
      "display-name": "Use Cloud Bridge connector?",
      "description": "Select 'No' if the collector will connect directly to the Identity Manager system.  Select 'Yes' if the collector will access Identity Manager via the Cloud Bridge.",
      "data-type": "numeric",
      "default-value": 0,
      "required": true,
      "options": [
        {
          "value": 1,
          "display-name": "Yes"
        },
        {
          "value": 0,
          "display-name": "No"
        }
      ]
    },
    {
      "conditional_param": {
        "use_bridge_connector": 1
      },
      "data_source_connection_parm": false,
      "name": "data_source_conn_id",
      "display-name": "Select a Cloud Bridge Data Source Connection",
      "description": "Choose the Cloud Bridge Data Source Connection that provides connectivity for this collector",
      "data-type": "numeric",
      "default-value": 0,
      "required": true,
      "options": [
        {
          "value": 0,
          "display-name": "(Select a Data Source)"
        }
      ]
    },
    {
      "data_source_connection_parm": false,
      "name": "server",
      "display-name": "Host",
      "description": "IP or DNS address of IDM Identity Vault Server",
      "data-type": "string",
      "required": true
    },
    {
      "data_source_connection_parm": false,
      "name": "port",
      "display-name": "Port",
      "description": "LDAP Service Port Number",
      "data-type": "numeric",
      "required": true,
      "default-value": 389
    },
    {
      "conditional_param": {
        "use_bridge_connector": 0
      },
      "data_source_connection_parm": true,
      "name": "user",
      "display-name": "User Name",
      "description": "LDAP-format User name used to connect to IDM Identity Vault Server",
      "data-type": "string",
      "required": true,
      "default-value": "cn=admin,ou=sa,o=system",
      "credential-type": "user",
      "credential-position": 0
    },
    {
      "conditional_param": {
        "use_bridge_connector": 0
      },
      "data_source_connection_parm": true,
      "name": "password",
      "display-name": "Password",
      "description": "Password",
      "data-type": "password",
      "required": true,
      "pwd_parms": "[\"server\",\"port\"]",
      "credential-type": "password",
      "credential-position": 0
    },
    {
      "data_source_connection_parm": false,
      "name": "security-certificate",
      "display-name": "Server Certificate",
      "description": "Base-64 encoded certificate from target IDM Identity Vault Server",
      "data-type": "string",
      "required": false,
      "certificate-parm": true,
      "conn-parms": "[\"server\",\"port\"]",
      "default-value": ""
    },
    {
      "data_source_connection_parm": false,
      "name": "entitlement_dn",
      "display-name": "Entitlement Distinguished Name",
      "description": "LDAP Distinguished Name of Entitlement in IDM Driver",
      "data-type": "string",
      "required": true,
      "default-value": ""
    },
    {
      "name": "driver-name",
      "display-name": "Driver Distinguished Name",
      "description": "LDAP Distinguished Name of IDM Driver",
      "data-type": "string",
      "default-value": "",
      "required": true,
      "options": null,
      "data_source_connection_parm": false
    },
    {
      "name": "dxml-search-class",
      "display-name": "Object Class",
      "description": "Object class for default query",
      "data-type": "string",
      "default-value": "User",
      "required": true,
      "options": null,
      "data_source_connection_parm": false
    },
    {
      "name": "custom-query",
      "display-name": "Custom Query (optional)",
      "description": "Custom query to be used for collection",
      "data-type": "string",
      "default-value": "",
      "required": false,
      "options": null,
      "data_source_connection_parm": false
    },
    {
      "name": "idm-account-id",
        "display-name": "IDM Account ID",
        "description": "IDM Account ID",
        "data-type": "string",
        "required": true,
        "default-value": "idmAccountID"
    },
    {
      "data_source_connection_parm": false,
      "name": "chunk-request-ttl",
      "display-name": "Batch Collection Session Timeout Value",
      "description": "Number of seconds of idle time before a batched collection session is terminated",
      "data-type": "numeric",
      "required": true,
      "default-value": 60
    },
    {
      "data_source_connection_parm": false,
      "name": "page-size-limit",
      "display-name": "Batch Size Limit",
      "description": "Maximum Paged Response Size",
      "data-type": "numeric",
      "required": true,
      "default-value": 1000
    },
    {
      "data_source_connection_parm": false,
      "name": "ldap-read-timeout",
      "display-name": "Driver Query Session Timeout Value",
      "description": "Number of seconds before a driver query session is terminated",
      "data-type": "numeric",
      "required": true,
      "default-value": 60
    }
  ],
  "ecma-scripts": [
  ],
  "views": [
    {
      "name": "account",
      "display-name": "Account",
      "allow-collection-test": true,
      "collection-required": true,
      "collect": true,
      "view-parms": [
        {
          "name": "search-class",
          "display-name": "IDM Account Collection",
          "description": "Collect the full IDM Role, Resource, and Entitlement Account Model",
          "data-type": "string",
          "required": true,
          "default-value": "Account",
          "hidden": true
        }
      ],
      "input-transforms": [
      ],
      "schema-map-filter": {
        "generic-map": [
          {
            "view-name": "accountId",
            "app-name": "association",
            "required": true,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "description",
            "app-name": "description",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "name",
            "app-name": "displayName",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "userLink",
            "app-name": "GUID",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "type",
            "app-name": "entitlementDn",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "disabled",
            "app-name": "loginDisabled",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "userId",
            "app-name": "entryDn",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "idmAccountId",
            "app-name": "id",
            "required": false,
            "read-only": true,
            "hidden": false
          },
          {
            "view-name": "logicalId",
            "app-name": "liid",
            "required": false,
            "read-only": true,
            "hidden": false
          }
        ]
      }
    }
  ]
}
